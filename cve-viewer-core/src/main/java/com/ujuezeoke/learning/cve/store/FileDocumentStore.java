package com.ujuezeoke.learning.cve.store;

import java.io.File;
import java.io.IOException;
import java.io.InputStream;
import java.nio.file.Files;
import java.util.logging.Level;

import static com.ujuezeoke.learning.Loggers.coreLogger;

/**
 * Created by ujuezeoke on 08/06/2016.
 */
public class FileDocumentStore implements DocumentStore {
    @Override
    public void store(String documentTitle, InputStream inputStream) {
        try {
            File file = new File(documentTitle);
            Files.copy(inputStream, file.toPath());
            coreLogger().info("input stream copied to file "+ documentTitle);

        } catch (IOException | NullPointerException e) {
            coreLogger().log(Level.SEVERE, "Error storing to  "+ documentTitle, e);
        }
    }
}
